<ui:composition
    template="/template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="content">
    	<h:messages globalOnly="true"/>
        <h:form
            id="editItemForm"
            prependId="false"
            enctype="multipart/form-data" >
            <h:message
                for="editItemForm"
                showSummary="true"
                infoClass="info"
                warnClass="warn"
                errorClass="error"
                fatalClass="fatal" />
            <h:panelGrid columns="2">
                <f:facet name="header">
                    <h:outputText value="#{msg['editItem']}" />
                </f:facet>
                <h:outputLabel value="#{msg['item.title']}:" />
                <h:panelGroup>
	                <h:inputText
	                    id="title"
	                    label="#{msg['item.title']}"
	                    required="true"
	                    value="#{editController.item.title}" 
	                    valueChangeListener="#{editController.titleChanged}" 
	                    size="40" 
	                    maxlength="40">
	                    <f:validateLength 
	                		minimum="3" />
	                </h:inputText>
	                <h:message for="title" />
                </h:panelGroup>
                <h:outputLabel value="#{msg['item.description']}:" />
                <h:panelGroup>
	                <h:inputTextarea
		                id="description"
		                label="#{msg['item.description']}"
	                    value="#{editController.item.description}"
	                    valueChangeListener="#{editController.descriptionChanged}" 
	                    size="1000"
	                    maxlength="1000">
	                    <f:validateLength
	                		minimum="0" />
	                </h:inputTextarea>
	                <h:message for="description" />
                </h:panelGroup>
                <h:outputLabel value="#{msg['item.price']}:" />
                <h:panelGroup>
	                <h:inputText 
	                	id="price"
	                	label="#{msg['item.price']}"
	                	required="true"
	                	value="#{editController.item.price}"
	                	valueChangeListener="#{editController.priceChanged}" >
	                	<f:validateDoubleRange
	                		minimum="0.05" 
	                		maximum="9999999999.95" />
	                </h:inputText>
	                <h:message for="price" />
                </h:panelGroup>
                <h:outputLabel value="#{msg['item.stockNumber']}:" />
                <h:panelGroup>
	                <h:inputText 
	                	id="stockNumber"
	                	label="#{msg['item.stockNumber']}"
	                	required="true"
	                	value="#{editController.item.stockNumber}"
	                	valueChangeListener="#{editController.stockNumberChanged}" >
	                	<f:validateLongRange
	                		minimum="1"
	                		maximum="999999999999" />
	                </h:inputText>
	                <h:message for="stockNumber" />
                </h:panelGroup>
				<h:outputLabel value="#{msg['item.foto']}:" />
                <h:panelGroup>
	                <h:inputFile 
	                	id="foto"
	                	label="#{msg['item.foto']}"
	                	value="#{editController.part}" 
	                	valueChangeListener="#{editController.fotoChanged}"/>
	                <h:message for="foto" />
                </h:panelGroup>
                <h:commandButton 
                	value="#{msg['change']}"
                	action="editItem" />
            </h:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
